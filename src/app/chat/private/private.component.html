<div class="al-main">
    <div class="al-content">
        <div class="content-top">
            <div class="al-title">
            </div>
        </div>
        <div class="widgets">
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-blur with-scroll animated zoomIn" *ngIf="serverMessages">
                        <div class="panel-body panel-body-messages">
                            <section class="cd-container">

                                <div class="cd-timeline-block" *ngFor="let message of serverMessages" [class.server]="message.sender_id === '666'">
                                    <div class="cd-timeline-img" *ngIf="message.sender !== 'server'">
                                        <img *ngIf="message.sender !== currentUser.name" src="../../assets/img/face.svg"
                                             alt="">
                                        <img *ngIf="message.sender === currentUser.name"
                                             src="../../assets/img/app/profile/81.jpg" alt="">
                                    </div>
                                    <div class="cd-timeline-img" *ngIf="message.sender === 'server'">
                                        <i class="fas fa-server"></i>
                                    </div>
                                    <div class="cd-timeline-content  warning">
                                        <h5 class="user-name"
                                            [class.online]="currentUser.online && message.sender_id === currentUser._id"
                                            [class.current]="message.sender_id === currentUser._id">
                                            {{ message.sender }}
                                        </h5>
                                        <div class="user-message" [innerHtml]="message.content | prettyPrint">

                                        </div>
                                        <span class="cd-date">{{ message.date | date:'medium' }}</span>
                                        <span class="remove-message" *ngIf="message.sender === currentUser.name"
                                              (click)="removeMessage(message._id)">&times;</span>
                                    </div>
                                </div>
                            </section>
                        </div>
                        <div class="panel-body">
                            <form class="row form-inline" [formGroup]="sendForm" autocomplete="off"
                                  (submit)="onSubmit()">
                                <div class="form-group col-md-12">
                                    <div class="row">
                                        <div class="col-md-12">
                      <textarea class="form-control"
                                placeholder="Текст сообщения..."
                                rows="2"
                                [(ngModel)]="message"
                                required
                                formControlName="message"></textarea>
                                            <button type="submit" class="btn btn-default btn-raised"
                                                    [disabled]="!sendForm.valid">
                                                Отправить
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
